---
layout: post
title: 【NLP】NLTK学习笔记
categories:
tags: 2-4-NLP
keywords:
description:
order: 341
---

## 词频统计

```python
from bs4 import BeautifulSoup
import requests

# 先用爬虫获取一段语料
text = BeautifulSoup(requests.get('https://www.python.org/').text, 'lxml').get_text()


import nltk

freq_dist = nltk.FreqDist(text.split())  # 类似 Counter 的词频统计
freq_dist.plot(50, cumulative=False)  # 画图
```


## wordnet

wordNet 是一个强大的英语词汇数据库


同义词
```python
from nltk.corpus import wordnet

wordnet.synsets('motorcar')  # 返回一个对象，等同于 wordnet.synset('car.n.01')，含义是 car 的名词释义中的第1个

wordnet.synset('car.n.01').lemma_names()  # 返回同义词：['car', 'auto', 'automobile', 'machine', 'motorcar']


# 有些词是一词多义的，例如 car
wordnet.synsets('car')  # 返回 5 类近义词
# 用一样的方法打印每个类型都有哪些近义词
for i in wordnet.synsets('car'):
    print(i.lemma_names())


# 得到：
# ['car', 'auto', 'automobile', 'machine', 'motorcar']
# ['car', 'railcar', 'railway_car', 'railroad_car']
# ['car', 'gondola']
# ['car', 'elevator_car']
# ['cable_car', 'car']
```


动作的蕴含关系
```python
#
wordnet.synset('walk.v.01').entailments()  # [Synset('step.v.01')]
wordnet.synset('eat.v.01').entailments()  # [Synset('chew.v.01'), Synset('swallow.v.01')]
wordnet.synset('tease.v.03').entailments() #[Synset('arouse.v.07'), Synset('disappoint.v.01')]
```

反义词
```py
wordnet.lemma('supply.n.02.supply').antonyms()  # [Lemma('demand.n.02.demand')]
```


词语相似度
```py
from nltk.corpus import wordnet

word1 = wordnet.synset('cookbook.n.01')
word2 = wordnet.synset('instruction_book.n.01')

# 其原理是寻找 wordNet 上位词之间的最短路径
word1.wup_similarity(word2)

# 另一种相似度
word1.path_similarity(word2)
```

## 词形还原

例如进行时、过去式、复数形式

```py
from nltk.stem import WordNetLemmatizer

lemmatizer = WordNetLemmatizer()

lemmatizer.lemmatize('cooking')
# cooking
lemmatizer.lemmatize('cooking', pos='v')
# cook
lemmatizer.lemmatize('cookbooks')
# cookbook
```

## 词性标注

### 用正则标注词性

```py
patterns = [
(r'\d+$', 'CD'),
(r'.*ing', 'VBG'),
(r'.*ment', 'NN'),
(r'.*ful', 'JJ')
]

# CD 是数字，VBG 是动词，NN 是名词，JJ 是形容词
```

### 用算法来标注词性

**Brill词性标注**：原理是根据附近单词的词性来做预测。  

**TnT标注器**：是基于二阶马尔可夫模型的标注器
