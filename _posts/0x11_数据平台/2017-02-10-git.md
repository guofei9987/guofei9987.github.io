---
layout: post
title: ğŸ”¥ã€Gitã€‘è¯­æ³•é€ŸæŸ¥
categories:
tags: 0x11_ç®—æ³•å¹³å°
keywords:
description:
permalink: /:title:output_ext
order: 103
---

## åˆå§‹è®¾ç½®

è¿™éƒ¨åˆ†çš„æ“ä½œéƒ½åœ¨Git Bashä¸‹  

### è®¾ç½®ä¿¡æ¯

```bash
git config --global user.name "Guofei"
git config --global user.email "guofei9987@foxmail.com"
# åŠ ä¸Š --global æ”¹çš„æ˜¯ ~/.config æ–‡ä»¶
# ä¸åŠ  --global æ”¹çš„æ˜¯å½“å‰é¡¹ç›®çš„ .git/config æ–‡ä»¶

# æŸ¥çœ‹é…ç½®ä¿¡æ¯
git config --lis # æŸ¥çœ‹å…¨å±€é…ç½®ä¿¡æ¯
git config --list # æŸ¥çœ‹å½“å‰é¡¹ç›®çš„é…ç½®ä¿¡æ¯
```




```bash
# è§£å†³ä¸­æ–‡ä¹±ç 
git config --global core.quotepath false
```


### è®¾ç½®SSH

**step1** ç”Ÿæˆå…¬é’¥å’Œç§˜é’¥  
```bash
# åœ¨ git bash ä¸‹è¿è¡Œï¼ˆä¸æ˜¯é»˜è®¤ bashï¼‰ï¼š
ssh-keygen -t  rsa -C "guofei9987@foxmail.com" # ç”Ÿæˆç§˜é’¥
```

ä¼šæç¤ºè¾“å…¥å¯†ç ï¼ˆæœ¬åœ°ä»“åº“çš„å¯†ç ï¼‰  
> id_rsaæ–‡ä»¶æ˜¯ç§æœ‰ç§˜é’¥
id_rsa.pubæ–‡ä»¶æ˜¯å…¬å¼€ç§˜é’¥


**step2** å»å®˜ç½‘å¯¼å…¥å…¬é’¥
å»[GitHubå®˜ç½‘](https://github.com/)ä¸Šï¼ŒæŠŠgithub_rsa.pubæ–‡ä»¶ä¸­çš„å†…å®¹æ·»åŠ åˆ°SSHä¸­
>ä¼šå—åˆ°ä¸€ä¸ªæé†’é‚®ä»¶
>ç°åœ¨å¯ä»¥ç”¨æ‰‹ä¸­çš„ç§äººç§˜é’¥ä¸GitHubè¿›è¡Œé€šè®¯äº†


æŸ¥çœ‹å…¬é’¥å†…å®¹ï¼š
```bash
$cat ~/.ssh/id_rsa.pub
```

**step3** çœ‹æ˜¯å¦æˆåŠŸæ·»åŠ å…¬é’¥

```bash
$ssh -T git@github.com # æµ‹è¯•æ˜¯å¦æˆåŠŸ
```

### å…è¾“å¯†ç 
```bash
git config credential.helper store
```
ä¸‹æ¬¡pushè¦è¾“å…¥ä¸€æ¬¡å¯†ç ï¼Œä¹‹åéƒ½ä¸ç”¨äº†  

è¿™æ¡å‘½ä»¤å…¶å®æ˜¯åœ¨ `.config` è¿™ä¸ªæ–‡ä»¶ä¸­å¢åŠ ä¸‹é¢ä¸¤è¡Œ
```bash
[credential]
helper=store
```


### gitignore


æ–‡ä»¶ .gitignore çš„æ ¼å¼è§„èŒƒå¦‚ä¸‹:
- æ‰€æœ‰ç©ºè¡Œæˆ–è€…ä»¥æ³¨é‡Šç¬¦å· # å¼€å¤´çš„è¡Œéƒ½ä¼šè¢« Git å¿½ç•¥ã€‚
- å¯ä»¥ä½¿ç”¨æ ‡å‡†çš„ glob æ¨¡å¼åŒ¹é…ã€‚
- åŒ¹é…æ¨¡å¼æœ€åè·Ÿåæ–œæ (/)è¯´æ˜è¦å¿½ç•¥çš„æ˜¯ç›®å½•ã€‚
- è¦å¿½ç•¥æŒ‡å®šæ¨¡å¼ä»¥å¤–çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œå¯ä»¥åœ¨æ¨¡å¼å‰åŠ ä¸ŠæƒŠå¹å·(!)å–åã€‚

```bash
# è¿™æ˜¯æ³¨é‡Š
*.a  # å¿½ç•¥æ‰€æœ‰ä»¥ .a ç»“å°¾çš„æ–‡ä»¶
/file.txt # ä»…å¿½ç•¥æ ¹ç›®å½•ä¸‹çš„ file.txt æ–‡ä»¶ï¼Œpath/file.txt ä¸ä¼šè¢«å¿½ç•¥
path/ # å¿½ç•¥ path/ ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶
path/*.txt # å¿½ç•¥ path/*.txtï¼Œä½†ä¸ä¼šå¿½ç•¥ path/path2/*.txt
!lib.a  # å¹å·è¡¨ç¤ºå–å
```



## å¸¸ç”¨æ“ä½œ

![git1](/a/computer/linux/git.svg)


### æ–°å»ºä»“åº“

æ–¹æ³•1: åœ¨ GitHub.com ä¸Šæ–°å»ºä»“åº“ï¼Œç„¶å clone ä¸‹æ¥
```bash
git clone git@github.com:guofei9987/hello-world.git


# clone æŒ‡å®šçš„åˆ†æ”¯
git clone -b main git@github.com:guofei9987/scikit-opt.git

# åªè·å–æœ€æ–°æäº¤ï¼ˆçœç©ºé—´ï¼‰
git clone --depth 1 <repo-url>
git clone --depth 1 -b branch_name <repo-url>
```


æ–¹æ³•2: åœ¨æœ¬åœ°å»ºä»“åº“
```bash
mkdir git-dir
cd git-dir
git init
```

æ˜¾ç¤ºä»“åº“çŠ¶æ€
```bash
git status # æ˜¾ç¤ºä»“åº“çŠ¶æ€

git log # æ˜¾ç¤ºlog
git log --pretty=short # ç®€ç•¥æ˜¾ç¤ºlog
git log README.md # æ˜¾ç¤ºæ–‡ä»¶çš„æ”¹åŠ¨
git log -p README.md # -p æ˜¾ç¤ºæ–‡ä»¶æ”¹åŠ¨çš„è¯¦æƒ…

git log --graph # æ˜¾ç¤ºå›¾
git log --stat # æ˜¾ç¤ºæ¯æ¬¡æ”¹åŠ¨çš„è¡Œæ•°
# git log ä¹Ÿå¯ä»¥å®šåˆ¶æ˜¾ç¤ºçš„æ ¼å¼ï¼Œç”¨æ—¶æŸ¥


git diff # æ˜¾ç¤º modified å’Œ staged ä¹‹é—´çš„å·®åˆ«
git diff -p -2 # -p æ˜¾ç¤ºæ–‡ä»¶æ”¹åŠ¨çš„è¯¦æƒ…ï¼Œ-2 è¡¨ç¤ºä»…æ˜¾ç¤ºè¿‘2æ¬¡
git diff --staged # æ˜¾ç¤º staged å’Œ committed çš„åŒºåˆ«

git diff HEAD # æ˜¾ç¤ºå·¥ä½œåŒºå’Œæœ€æ–°æäº¤çš„å·®å¼‚

git diff <commit1> <commit2> # æ¯”è¾ƒæŒ‡å®šçš„ä¸¤ä¸ªæäº¤ä¹‹é—´çš„å·®å¼‚

# æ¯”è¾ƒè¿œç¨‹ä»“åº“å’Œæœ¬åœ°ä»“åº“çš„å·®å¼‚ï¼š
git fetch
git diff origin/main

# æ¯”è¾ƒ staged/cached ä¸è¿œç«¯çš„å·®å¼‚
git diff --staged origin/main
git diff --cached origin/main

# å›æ»šåˆ°è¿œç¨‹åˆ†æ”¯çš„çŠ¶æ€ï¼š
git reset origin/main
```




### push

- æ–°å»ºçš„æ–‡ä»¶æ˜¯untracked files
- æ‰§è¡Œaddè¯­å¥åï¼ŒçŠ¶æ€å˜ä¸º to be committed

**step1:** add
```bash
git add filename
git add -A # å…¨éƒ¨æ·»åŠ 
```

**step2:** commit
```bash
git commit
# åœ¨å¼¹å‡ºçš„txtä¸­å¡«å…¥è¿™æ¬¡commitçš„ç›¸å…³ä¿¡æ¯ï¼Œæ ¼å¼çº¦å®šï¼š  
# ç¬¬ä¸€è¡Œï¼šä¸€å¥è¯æ¦‚æ‹¬æ›´æ”¹çš„å†…å®¹  
# ç¬¬äºŒè¡Œï¼šç©º  
# ç¬¬ä¸‰è¡Œï¼šè®°å½•æ›´æ”¹çš„åŸå› å’Œè¯¦ç»†å†…å®¹  

# ä¸ä¼šå¼¹å‡ºtxtï¼š
git commit -m "First commit"
```


**step3** push  
æˆåŠŸåï¼ŒGitHubä¸Šçš„ä»“åº“å°±ä¼šè¢«æ›´æ–°
```bash
git push
git push origin feature-A # æŠŠfeature-Aè¿™ä¸ªåˆ†æ”¯pushåˆ°GitHub

# è¯­æ³•å¦‚ä¸‹ï¼š
git push <è¿œç¨‹ä¸»æœºå> <æœ¬åœ°åˆ†æ”¯å>:<è¿œç¨‹åˆ†æ”¯å>
# 1. å¦‚æœè¿œç«¯åˆ†æ”¯ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»º

# ä¾‹å¦‚ï¼š
git push origin local_main:main # æŠŠæœ¬åœ°çš„ local_main åˆ†æ”¯ï¼Œæ¨é€åˆ°è¿œç«¯çš„ main åˆ†æ”¯

git push origin main # ç­‰ä»·äº git push origin main:main

git push origin :main # åˆ é™¤è¿œç¨‹åˆ†æ”¯ï¼ˆæ¨é€ç©ºæœ¬åœ°åˆ†æ”¯åˆ°è¿œç¨‹åˆ†æ”¯ï¼‰ï¼Œç­‰åŒäº git push origin --delete main

git push -u origin local_master:master
# -u æ˜¯ --set-upstream çš„ç¼©å†™ï¼ŒæŠŠæœ¬åœ°åˆ†æ”¯ä¸è¿œç«¯å…³è”ï¼Œä»¥åç”¨ git push/git pull ä¸å†™åˆ†æ”¯ä¹Ÿå¯ä»¥
```


### åˆ†æ”¯åˆ‡æ¢ switch

2019æ–°å¢çš„åŠŸèƒ½ï¼Œç”¨äºæ›¿æ¢ checkoutï¼ˆæŠŠ checkout çš„åŠŸèƒ½æ‹†åˆ†åˆ° switch å’Œ restoreï¼‰

```sh
# è¯­æ³•
git switch -c <è¦åˆ›å»ºçš„åˆ†æ”¯> <æºåˆ†æ”¯>

# åˆ‡æ¢åˆ°å·²æœ‰çš„æœ¬åœ°åˆ†æ”¯
git switch main

# ä»è¿œç«¯åˆ†æ”¯åˆ›å»ºå¹¶åˆ‡æ¢ï¼ˆè¦å…ˆgit fetch originï¼‰ï¼Œ track æ˜¯è®¾ç½®è·Ÿè¸ª
git switch --track -c feature-A origin/feature-A
# ç®€çŸ­çš„å†™æ³•ï¼ˆå®ƒä¼šè‡ªåŠ¨åˆ¤æ–­æ˜¯å¦ä»è¿œç«¯åˆ›å»ºï¼‰ï¼š
git switch feature-A

# åŸºäºæœ¬åœ°çš„ dev åˆ†æ”¯ï¼Œåˆ›å»ºæ–°çš„åˆ†æ”¯ feature-A
git switch -c feature-A dev

# ä»å½“å‰åˆ†æ”¯åˆ›å»ºï¼Œå¹¶åˆ‡æ¢ï¼ˆ-c æ˜¯ create çš„æ„æ€ï¼‰ï¼ˆç­‰ä»·äº checkout -bï¼‰
git switch -c feature-A
# å¦‚æœç”¨å¤§å†™ -Cï¼Œåˆ™æ˜¯å¼ºåˆ¶åˆ›å»ºï¼ˆè¦†ç›–å·²æœ‰çš„åˆ†æ”¯ï¼‰

# åŸºäºæŸä¸ªæäº¤/æ ‡ç­¾åˆ›å»ºåˆ†æ”¯
git switch -c feature-A v1.2.3
# æˆ–
git switch -c feature-A <commit-id>

# ä»è¿œç«¯åˆ†æ”¯åˆ›å»ºå¹¶è®¾ç½®è·Ÿè¸ªï¼ˆtrackï¼‰
git switch -c local_branch --track origin/remote_branch

# ä¸´æ—¶åˆ‡åˆ°æŸä¸ªæäº¤ï¼ˆä»…ç”¨äºæŸ¥çœ‹ï¼Œä¸è¦åšä»»ä½•æ›´æ”¹ï¼‰
git switch --detach <commit-idã€tag_name>
```


### è¿˜åŸæ–‡ä»¶ restore

```sh
git restore path/to/file

# ç­‰ä»·äºæ—§ç”¨æ³•ï¼š

git checkout -- path/to/file

```




## æ’¤é”€ç±»æ“ä½œ

æœ€å¸¸ç”¨çš„è¿˜æ˜¯ `git resotore` ï¼Œç”¨æ³•åœ¨ä¸Šé¢å›¾é‡Œ

ä¿®æ”¹ä¸Šæ¬¡çš„ commit ä¿¡æ¯
```bash
git commit --amend
# ä¼šå¼¹å‡ºä¸Šæ¬¡ commit å¡«å…¥çš„ä¿¡æ¯ï¼Œå¯ä»¥åšä¿®æ”¹
```




å›æº¯å†å²ç‰ˆæœ¬

```bash
git reflog # æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯çš„ logï¼ŒåŒ…æ‹¬åˆ é™¤çš„

git reset --hard 75a8a671ec564e031eeec9fadbcd3a51daefe3c9
```
æ•´ä¸ªå›åˆ°äº†å†å²ç‰ˆæœ¬äº†




## åˆ†æ”¯ç›¸å…³

### æŸ¥çœ‹åˆ†æ”¯

```bash
git branch # åˆ—å‡ºæœ¬åœ°çš„åˆ†æ”¯
git branch -r # åˆ—å‡ºè¿œç«¯åˆ†æ”¯
git branch -a # åˆ—å‡ºæœ¬åœ°åˆ†æ”¯+è¿œç«¯åˆ†æ”¯
git branch -v # æŸ¥çœ‹å„ä¸ªåˆ†æ”¯æœ€åä¸€ä¸ªæäº¤å¯¹è±¡çš„ä¿¡æ¯
git branch --merge # æŸ¥çœ‹å·²ç»åˆå¹¶åˆ°å½“å‰åˆ†æ”¯çš„åˆ†æ”¯
git branch --no-merge # æŸ¥çœ‹æœªåˆå¹¶åˆ°å½“å‰åˆ†æ”¯çš„åˆ†æ”¯
```

### åˆ›å»ºåˆ†æ”¯

```bash
git branch feature-A # åˆ›å»ºä¸€ä¸ªåä¸ºfeature-Açš„åˆ†æ”¯
# (å¦‚æœå½“å‰åˆ†æ”¯çš„ä¿®æ”¹æ²¡æœ‰ commitï¼Œä¹Ÿæ˜¯åŸºäºè¿™ä¸ªæ²¡æœ‰ commit çš„æ•´ä¸ªä¸€å¥—ï¼Œè™½ç„¶ä¸æ¨èè¿™ä¹ˆåš)ã€‚

# åŸºäºæŸä¸ªå†å² commit åˆ›å»ºåˆ†æ”¯
git branch feature-A 885a30ee1a6f844a3b7895a2357a7d34fdfafac8
```

### åˆ é™¤åˆ†æ”¯

```bash
git branch -d test # åˆ é™¤teståˆ†æ”¯ï¼Œå¦‚æœ test åˆ†æ”¯è¿˜æ²¡æœ‰åˆå¹¶åˆ°å…¶å®ƒåˆ†æ”¯ï¼Œä¼šåˆ é™¤å¤±è´¥
git branch -D test # å¼ºåˆ¶åˆ é™¤teståˆ†æ”¯
git push origin --delete develop # åˆ é™¤è¿œç¨‹åˆ†æ”¯
```

### åˆå¹¶åˆ†æ”¯

```bash
git merge test # æŠŠteståˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯
git merge --no-ff feature-A
```

## è¿œç«¯

- æ·»åŠ åˆ°è¿œç¨‹ä»“åº“
```bash
git remote add origin git@github.com:guofei9987/git17.git # è¿™é‡Œçš„ origin æ˜¯è¿œç«¯çš„åˆ«åï¼Œå¤šä¸ªè¿œç«¯å¯¹åº”ä¸åŒçš„åˆ«å
git remote rename origin orign1
# ä¿®æ”¹åˆ«åï¼ŒæŠŠ origin é‡å‘½åä¸º origin1
```
- æŸ¥çœ‹è¿œç«¯
```bash
git remote -v # æŸ¥çœ‹å·²ç»æŒ‡å®šçš„è¿œç«¯æœåŠ¡
git remote show origin # æŸ¥çœ‹ origin è¿™ä¸ªè¿œç«¯çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬è¿œç«¯çš„ urlã€åˆ†æ”¯ã€push ç¼ºçœçš„åˆ†æ”¯
```
- åˆ é™¤è¿œç«¯
```bash
git remote remove origin # æ–­å¼€ä¸è¿œç«¯çš„å…³è”
```


## tag
```bash
git tag # åˆ—å‡ºç°æœ‰æ ‡ç­¾
git tag v0.1 # æ–°å»ºæ ‡ç­¾
git tag -a v0.1 -m 'my conversion 1.2' # æ–°å»ºå¸¦æ³¨é‡Šçš„æ ‡ç­¾

git push origin v1.5 # æ¨é€åˆ†æ”¯åˆ°æºä¸Š
git push origin --tags # ä¸€æ¬¡æ€§æ¨é€æ‰€æœ‰åˆ†æ”¯
git tag -d v0.1 # åˆ é™¤æ ‡ç­¾
git push origin :refs/tags/v0.1 #åˆ é™¤è¿œç¨‹æ ‡ç­¾
```

## å­ä»“åº“

```shell
# æ ¹æ® .gitmodules ä¸­çš„é…ç½®ï¼Œåˆå§‹åŒ–å­ä»“åº“
git submodule init

# æ‹‰å–å­ä»“åº“
git submodule update --remote
# ä¸åŠ  --remote æ˜¯æ‹‰å–ä¸»ä»“åº“æŒ‡å®šçš„å­ä»“åº“ç‰ˆæœ¬
```


## å®ç”¨å·¥å…·
åœ¨githubä¸Šæ¯”è¾ƒä¸¤ä¸ªbranchçš„ä¸åŒ
```
https://github.com/guofei9987/plans/compare/master...master1
```
åœ¨githubä¸Šæ¯”è¾ƒåŒä¸€åˆ†æ”¯ä¸åŒæ—¶é—´å†…çš„å·®åˆ«
```
https://github.com/guofei9987/plans/compare/master@{7.days.ago}...master
```
åœ¨githubä¸Šæ¯”è¾ƒæŒ‡å®šæ—¥æœŸä¹‹é—´çš„å·®åˆ«
```
https://github.com/guofei9987/plans/compare/master@{2017-01-24}...master@{2017-02-04}
```
- github pages
https://pages.github.com/
- github jobs


æ¯”è¾ƒå›¾ç‰‡çš„å˜åŠ¨å†å²ï¼ˆä¸æ¯”è¾ƒä»£ç çš„å˜åŠ¨å†å²æ“ä½œä¸€æ ·ï¼‰

## Pull Request ï¼ˆPRï¼‰
### å¦‚æœæƒ³å‚ä¸åˆ«äººçš„é¡¹ç›®
1. åœ¨github.comä¸Šforkåˆ°è‡ªå·±ä»“åº“
2. cloneåˆ°æœ¬åœ°
3. å»ºç«‹ä¸€ä¸ªbranch
```
git branch work
git checkout work
```
4. ç¼–ç¨‹å·¥ä½œ
5. pushåˆ°è‡ªå·±çš„ç½‘ç«™
```
git add path/file_name.py
git commit -m "å¡«å†™ä½ çš„è¯´æ˜"
git push origin work
```
6. åœ¨githubä¸Šå‘é€PR



## å®ç”¨ä»£ç 
[å‚è€ƒé“¾æ¥](https://git-scm.com/docs/git-log)  



```bash
git log --after=2019-06-12 --before=2019-06-20 --no-merges --format='%an'
# å…³äº formatï¼š
# %H æäº¤å¯¹è±¡ï¼ˆcommitï¼‰çš„å®Œæ•´å“ˆå¸Œå­—ä¸²
# %h æäº¤å¯¹è±¡çš„ç®€çŸ­å“ˆå¸Œå­—ä¸²
# %T æ ‘å¯¹è±¡ï¼ˆtreeï¼‰çš„å®Œæ•´å“ˆå¸Œå­—ä¸²
# %t æ ‘å¯¹è±¡çš„ç®€çŸ­å“ˆå¸Œå­—ä¸²
# %P çˆ¶å¯¹è±¡ï¼ˆparentï¼‰çš„å®Œæ•´å“ˆå¸Œå­—ä¸²
# %p çˆ¶å¯¹è±¡çš„ç®€çŸ­å“ˆå¸Œå­—ä¸²
# %an ä½œè€…ï¼ˆauthorï¼‰çš„åå­—
# %ae ä½œè€…çš„ç”µå­é‚®ä»¶åœ°å€
# %ad ä½œè€…ä¿®è®¢æ—¥æœŸï¼ˆå¯ä»¥ç”¨-date= é€‰é¡¹å®šåˆ¶æ ¼å¼ï¼‰
# %ar ä½œè€…ä¿®è®¢æ—¥æœŸï¼ŒæŒ‰å¤šä¹…ä»¥å‰çš„æ–¹å¼æ˜¾ç¤º
# %cn æäº¤è€…(committer)çš„åå­—
# %ce æäº¤è€…çš„ç”µå­é‚®ä»¶åœ°å€
# %cd æäº¤æ—¥æœŸ
# %cr æäº¤æ—¥æœŸï¼ŒæŒ‰å¤šä¹…ä»¥å‰çš„æ–¹å¼æ˜¾ç¤º
# %s æäº¤è¯´æ˜
```

```bash
git log --after=2019-06-12 --before=2019-06-20 --pretty=tformat: --numstat
# å…³äº tformatï¼š
# --numstat è¿™æ®µæ—¶é—´æäº¤çš„ï¼Œæ€»å¢åŠ çš„è¡Œæ•°ï¼Œåˆ é™¤çš„è¡Œæ•°ï¼Œæ–‡ä»¶è·¯å¾„
# --stat è¿™æ®µæ—¶é—´ï¼Œæ¯æ¬¡æäº¤çš„ï¼Œå¢åˆ ï¼Œæ–‡ä»¶è·¯å¾„
# --shortstat æ¯æ¬¡æäº¤çš„å¢ã€åˆ 
```


ç»Ÿè®¡ï¼š
```bash
# ä¸€æ®µæ—¶é—´å†…çš„æäº¤æ¬¡æ•°
git log --after=2019-06-12 --before=2019-06-20 --no-merges --format='%an'  | wc -l

# ä¸€æ®µæ—¶é—´å†…æ€»çš„å¢åˆ è¡Œæ•°
git log --after=2019-06-12 --before=2019-06-20 --pretty=tformat: --numstat | awk '{ loc += $1 + $2 } END { printf "%s",loc }'
```


### æ¸…é™¤å†å²è®°å½•

```sh
git checkout --orphan latest_branch # åˆ‡æ¢åˆ°æ–°çš„åˆ†æ”¯
git add -A # ç¼“å­˜æ‰€æœ‰æ–‡ä»¶
git commit -am "commit message" # æäº¤è·Ÿè¸ªè¿‡çš„æ–‡ä»¶
git branch -D master # åˆ é™¤masteråˆ†æ”¯
git branch -m master # é‡å‘½åå½“å‰åˆ†æ”¯ä¸ºmaster
git push -f origin master # æäº¤åˆ°è¿œç¨‹masteråˆ†æ”¯
```

è¿˜æœ‰ä¸€ä¸ªæ›´ç‹ çš„å½»åº•æŠ¹é™¤å†å²
```bash
rm -rf .git
git init
git remote add origin https://github.com/guofei9987/tmp
git add -A
git commit -m 'remove history'
git push -f origin master
```

### æŒ‡å®š commit æ—¶é—´

```bash
GIT_AUTHOR_DATE=2020-11-28T12:00:00 GIT_COMMITTER_DATE=2020-11-28T12:00:00 git commit --allow-empty -m "update"
```

æ›´å®ç”¨çš„

```bash
commitDate="2025-03-02T14:00:00"
GIT_AUTHOR_DATE="$commitDate" GIT_COMMITTER_DATE="$commitDate" git commit -m "update"
```



### ä¸€å°ç”µè„‘ç»‘å¾ˆå¤šssh
https://www.cnblogs.com/jikexianfeng/p/5873698.html
