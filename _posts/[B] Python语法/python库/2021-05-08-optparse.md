---
layout: post
title: 【Python】optparse
categories:
tags: Python语法
keywords:
description:
order: 1206
---




```python
# tst_optparse.py

# 1. 键值对的形式：
# python tst_optparse.py -f filename1
parser.add_option('-f', '--file', dest='filename', help='a file name')
# dst: 存到哪个变量里面，例子是存到 opt.filename 里面

# 2. 单一键的形式
# python tst_optparse.py -v
parser.add_option('-v', '--verbose', dest='is_verbose', action='store_const', const='yes', help='Is it process verbosely?')
# 如果有 -v，那么就 opts.is_verbose='yes'，否则是 None

# 定义默认，如果不定义默认，默认就是 None
parser.set_default('filename', 'default_filename')

# 解析
(opts, args) = parser.parse_args()
# 这个解析可以有入参，
# 例如 (opts, args) = parser.parse_args(['-v', '-f', 'my_file'])

opts.filename # 返回 filename1
args # list，额外“找不到成对匹配的”，放到 args里面
```


调出帮助

```bash
python tst_optparse.py -h
python tst_optparse.py -help
python tst_optparse.py --help
```
