---
layout: post
title: 【LeetCode】trie 前缀树
categories:
tags: 0x81_刷题
keywords:
description:
order: 595
visible: n
---


## 677. Map Sum Pairs


```python
import collections


class TrieNode:
    def __init__(self):
        self.children = collections.defaultdict(TrieNode)
        self.val = 0

class MapSum:

    def __init__(self):
        self.root = TrieNode()


    def insert(self, key: str, val: int) -> None:
        curr = self.root
        for char in key:
            curr=curr.children[char]

        curr.val=val


    def sum(self, prefix: str) -> int:
        curr=self.root
        for char in prefix:
            curr=curr.children[char]
            if curr is None:
                return 0

        res=0
        queue=[curr]
        while queue:
            new_queue=[]
            for item in queue:
                new_queue.extend(item.children.values())
                res+=item.val
            queue=new_queue
        return res
```
